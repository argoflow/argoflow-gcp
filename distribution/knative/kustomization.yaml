apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
- allow-all-ns-knative-authorization-policy.yaml
- serving-core-v0_24_0.yaml
- net-istio-v0_24_0.yaml

patchesStrategicMerge:
# patches
- patches/config-istio.yaml
- patches/config-logging.yaml
- patches/config-network.yaml
- patches/config-observability.yaml
- patches/domain-config.yaml
- patches/enable-istio-injection.yaml
- patches/enable-sidecar-istio-controller.yaml
- patches/increase-deadline.yaml

# removals
- removals/remove-knative-ingress-gateway.yaml
- removals/remove-knative-local-gateway.yaml

images:
- name: gcr.io/knative-releases/knative.dev/serving/cmd/activator
  newName: gcr.io/knative-releases/knative.dev/serving/cmd/activator
  digest: sha256:d5b9473ca87a1a406a2bb311bf08f87b1dbe80989e2e654726320f8ed8969142
- name: gcr.io/knative-releases/knative.dev/serving/cmd/autoscaler
  newName: gcr.io/knative-releases/knative.dev/serving/cmd/autoscaler
  digest: sha256:5d2c7e12f18c6603ed6a2c8c3be108f25bcec0aae16955301b0cae6ef4a48409
- name: gcr.io/knative-releases/knative.dev/serving/cmd/domain-mapping
  newName: gcr.io/knative-releases/knative.dev/serving/cmd/domain-mapping
  digest: sha256:78e5a4cd7755c2049f57f63c0dabfc8bdbe29d67c9d48f7d8d260ce80068ce95
- name: gcr.io/knative-releases/knative.dev/serving/cmd/domain-mapping-webhook
  newName: gcr.io/knative-releases/knative.dev/serving/cmd/domain-mapping-webhook
  digest: sha256:189b31528f2a2ad0f41b1ea98cda02eca32733fc399d8b3f861ef4c627cb660c
- name: gcr.io/knative-releases/knative.dev/serving/cmd/webhook
  newName: gcr.io/knative-releases/knative.dev/serving/cmd/webhook
  digest: sha256:4827a10949c9458f545bba38e9258cfd4b4169964c374b0d7f377d04b9336daf
- name: gcr.io/knative-releases/knative.dev/serving/cmd/controller
  newName: gcr.io/knative-releases/knative.dev/serving/cmd/controller
  digest: sha256:0ec4cbd8d46af830938eea7e6833e97179abef5af800ff2e96bb4622d1347145
- name: gcr.io/knative-releases/knative.dev/net-istio/cmd/controller
  newName: gcr.io/knative-releases/knative.dev/net-istio/cmd/controller
  digest: sha256:f253b82941c2220181cee80d7488fe1cefce9d49ab30bdb54bcb8c76515f7a26
- name: gcr.io/knative-releases/knative.dev/net-istio/cmd/webhook
  newName: gcr.io/knative-releases/knative.dev/net-istio/cmd/webhook
  digest: sha256:a705c1ea8e9e556f860314fe055082fbe3cde6a924c29291955f98d979f8185e
